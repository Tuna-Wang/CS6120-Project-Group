{"ast":null,"code":"var _jsxFileName = \"/Users/wenwenliu/Desktop/2025Spring/CS6120/CS6120-Project-Group/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mockData = {\n  \"Are all people equal?\": {\n    chatGptStyle: \"Equality is a fundamental concept in many societies...\",\n    humphreyStyle: \"Ah, well, one must be cautious with such a simplistic question, Minister...\"\n  },\n  \"How can we achieve educational fairness?\": {\n    chatGptStyle: \"Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...\",\n    humphreyStyle: \"Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...\"\n  },\n  \"Do humans need to work?\": {\n    chatGptStyle: \"Work is an essential part of human life, providing not only the means for survival...\",\n    humphreyStyle: \"Ah, the question of whether humans need to work—how delightfully modern! Minister...\"\n  }\n};\n\n/** Utility to normalize user input for data lookup. */\nfunction normalizeQuestion(str) {\n  if (!str) return \"\";\n  let lower = str.toLowerCase().trim();\n  return lower.replace(/[?.!,]+$/g, \"\").trim();\n}\nfunction App() {\n  _s();\n  const [question, setQuestion] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const textareaRef = useRef(null);\n\n  // Auto-resize the textarea every time \"question\" changes.\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [question]);\n  const containerRef = useRef(null);\n  const handleQuestionChange = event => {\n    setQuestion(event.target.value);\n  };\n  const handlePdfUpload = async event => {\n    const file = event.target.files[0];\n    if (!file || file.type !== \"application/pdf\") {\n      alert(\"Please upload a valid PDF file.\");\n      return;\n    }\n    try {\n      // Step 1: Request signed URL from backend\n      console.log(\"Fetching upload url:...\");\n      const res = await axios.post(\"http://34.55.234.72:8000/api/generate-upload-url\", {\n        filename: file.name\n      });\n      console.log(\"Signed upload URL:\", res.data);\n      const signedUrl = res.data.url;\n\n      // Step 2: Upload file directly to GCS\n      await axios.put(signedUrl, file, {\n        headers: {\n          \"Content-Type\": \"application/pdf\"\n        }\n      });\n      alert(\"✅ PDF uploaded successfully!\");\n    } catch (error) {\n      console.error(\"Upload failed:\", error);\n      alert(\"❌ Upload failed. Please check the console.\");\n    }\n  };\n\n  // Called when the user presses Enter (without Shift) or clicks send button.\n  const getResponse = () => {\n    if (!question.trim()) return;\n    const normalized = normalizeQuestion(question);\n    let entryKey = null;\n    Object.keys(mockData).forEach(k => {\n      if (normalizeQuestion(k) === normalized) {\n        entryKey = k;\n      }\n    });\n    let newEntry = null;\n    if (entryKey) {\n      newEntry = {\n        question,\n        chatGptStyle: mockData[entryKey].chatGptStyle,\n        humphreyStyle: mockData[entryKey].humphreyStyle,\n        selectedStyle: null\n      };\n    } else {\n      newEntry = {\n        question,\n        chatGptStyle: \"Sorry, I don't have an answer to that question.\",\n        humphreyStyle: \"\",\n        selectedStyle: null\n      };\n    }\n    setConversation([...conversation, newEntry]);\n    setQuestion(''); // Clear the textarea\n  };\n  const setFinalAnswer = (index, style) => {\n    const updated = [...conversation];\n    updated[index].selectedStyle = style;\n    setConversation(updated);\n  };\n\n  // Render final answer based on selected style.\n  const renderFinalAnswer = entry => {\n    if (entry.selectedStyle === 'chatGpt') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-bubble chatGpt-bubble\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: entry.chatGptStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    } else if (entry.selectedStyle === 'humphrey') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-bubble humphrey-bubble\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon\",\n          children: \"\\uD83D\\uDC54\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: entry.humphreyStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  const clearChatHistory = () => {\n    setConversation([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-logo-frame\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/image/himanagerlogo.png\",\n            alt: \"Hi Manager Logo\",\n            className: \"sidebar-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"sidebar-title\",\n          children: \"Style Mimic Chatbot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"api-indicator\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"api-indicator-icon\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"API key already provided\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://example.com/blog\",\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          className: \"blog-link\",\n          children: \"Build Humphrey Style\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-btn\",\n          onClick: clearChatHistory,\n          children: \"Clear Chat History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: conversation.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"question-bubble\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), \" \", entry.question]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), !entry.selectedStyle && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"answers-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"answer-bubble chatGpt-bubble\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: entry.chatGptStyle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => alert('Citations!'),\n                children: \"See Citations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), entry.humphreyStyle && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"answer-bubble humphrey-bubble\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon\",\n                children: \"\\uD83D\\uDC54\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: entry.humphreyStyle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"choose-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFinalAnswer(index, 'chatGpt'),\n                children: \"Like ChatGPT Answer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this), entry.humphreyStyle && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setFinalAnswer(index, 'humphrey'),\n                children: \"Like Humphrey Answer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), entry.selectedStyle && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-answer\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Final Answer (\", entry.selectedStyle === 'chatGpt' ? 'ChatGPT' : 'Humphrey', \" Style):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), renderFinalAnswer(entry)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"chat-file-upload\",\n          type: \"file\",\n          accept: \"application/pdf\",\n          onChange: handlePdfUpload,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"chat-file-upload\",\n          className: \"chat-upload-btn\",\n          \"data-tooltip\": \"Upload files and more\",\n          children: \"\\uFF0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          className: \"chat-input\",\n          placeholder: \"How may I assist you today?\",\n          value: question,\n          onChange: handleQuestionChange,\n          onKeyDown: e => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              getResponse();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-icon-btn\",\n          onClick: getResponse,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"send-icon\",\n            children: \"\\u27A4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"/xEc1roBNwHkOuQcjxnd/244YWw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","mockData","chatGptStyle","humphreyStyle","normalizeQuestion","str","lower","toLowerCase","trim","replace","App","_s","question","setQuestion","conversation","setConversation","textareaRef","current","style","height","scrollHeight","containerRef","handleQuestionChange","event","target","value","handlePdfUpload","file","files","type","alert","console","log","res","post","filename","name","data","signedUrl","url","put","headers","error","getResponse","normalized","entryKey","Object","keys","forEach","k","newEntry","selectedStyle","setFinalAnswer","index","updated","renderFinalAnswer","entry","className","children","fileName","_jsxFileName","lineNumber","columnNumber","clearChatHistory","src","alt","href","rel","onClick","map","id","accept","onChange","display","htmlFor","ref","placeholder","onKeyDown","e","key","shiftKey","preventDefault","_c","$RefreshReg$"],"sources":["/Users/wenwenliu/Desktop/2025Spring/CS6120/CS6120-Project-Group/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst mockData = {\n  \"Are all people equal?\": {\n    chatGptStyle: \"Equality is a fundamental concept in many societies...\",\n    humphreyStyle: \"Ah, well, one must be cautious with such a simplistic question, Minister...\"\n  },\n  \"How can we achieve educational fairness?\": {\n    chatGptStyle: \"Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...Educational fairness can be achieved through policies that ensure equal access...\",\n    humphreyStyle: \"Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...Ah, yes, educational fairness—such an admirable goal, Minister, but one fraught with complexities...\"\n  },\n  \"Do humans need to work?\": {\n    chatGptStyle: \"Work is an essential part of human life, providing not only the means for survival...\",\n    humphreyStyle: \"Ah, the question of whether humans need to work—how delightfully modern! Minister...\"\n  }\n};\n\n\n/** Utility to normalize user input for data lookup. */\nfunction normalizeQuestion(str) {\n  if (!str) return \"\";\n  let lower = str.toLowerCase().trim();\n  return lower.replace(/[?.!,]+$/g, \"\").trim();\n}\n\nfunction App() {\n  const [question, setQuestion] = useState('');\n  const [conversation, setConversation] = useState([]);\n  const textareaRef = useRef(null);\n\n  // Auto-resize the textarea every time \"question\" changes.\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = \"auto\";\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\n    }\n  }, [question]);\n\n  const containerRef = useRef(null);\n\n  const handleQuestionChange = (event) => {\n    setQuestion(event.target.value);\n  };\n\n  const handlePdfUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file || file.type !== \"application/pdf\") {\n      alert(\"Please upload a valid PDF file.\");\n      return;\n    }\n  \n    try {\n      // Step 1: Request signed URL from backend\n      console.log(\"Fetching upload url:...\")\n      const res = await axios.post(\"http://34.55.234.72:8000/api/generate-upload-url\", {\n        filename: file.name,\n      });\n      console.log(\"Signed upload URL:\", res.data)\n      const signedUrl = res.data.url;\n\n      // Step 2: Upload file directly to GCS\n      await axios.put(signedUrl, file, {\n        headers: {\n          \"Content-Type\": \"application/pdf\",\n        },\n      });\n  \n      alert(\"✅ PDF uploaded successfully!\");\n  \n    } catch (error) {\n      console.error(\"Upload failed:\", error);\n      alert(\"❌ Upload failed. Please check the console.\");\n    }\n  };\n\n  // Called when the user presses Enter (without Shift) or clicks send button.\n  const getResponse = () => {\n    if (!question.trim()) return;\n\n    const normalized = normalizeQuestion(question);\n    let entryKey = null;\n    Object.keys(mockData).forEach((k) => {\n      if (normalizeQuestion(k) === normalized) {\n        entryKey = k;\n      }\n    });\n\n    let newEntry = null;\n    if (entryKey) {\n      newEntry = {\n        question,\n        chatGptStyle: mockData[entryKey].chatGptStyle,\n        humphreyStyle: mockData[entryKey].humphreyStyle,\n        selectedStyle: null\n      };\n    } else {\n      newEntry = {\n        question,\n        chatGptStyle: \"Sorry, I don't have an answer to that question.\",\n        humphreyStyle: \"\",\n        selectedStyle: null\n      };\n    }\n\n    setConversation([...conversation, newEntry]);\n    setQuestion(''); // Clear the textarea\n  };\n\n  const setFinalAnswer = (index, style) => {\n    const updated = [...conversation];\n    updated[index].selectedStyle = style;\n    setConversation(updated);\n  };\n\n  // Render final answer based on selected style.\n  const renderFinalAnswer = (entry) => {\n    if (entry.selectedStyle === 'chatGpt') {\n      return (\n        <div className=\"answer-bubble chatGpt-bubble\">\n          <div>{entry.chatGptStyle}</div>\n          \n        </div>\n      );\n    } else if (entry.selectedStyle === 'humphrey') {\n      return (\n        <div className=\"answer-bubble humphrey-bubble\">\n          <span className=\"icon\">👔</span>\n          <div>{entry.humphreyStyle}</div>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const clearChatHistory = () => {\n    setConversation([]);\n  };\n\n  return (\n    <div className=\"app-container\">\n      {/* Left Sidebar */}\n      <div className=\"sidebar\">\n          <div className=\"sidebar-header\">\n      <div className=\"sidebar-logo-frame\">\n        <img\n          src=\"/image/himanagerlogo.png\"\n          alt=\"Hi Manager Logo\"\n          className=\"sidebar-logo\"\n          />\n        </div>\n        <h2 className=\"sidebar-title\">Style Mimic Chatbot</h2>\n      </div>\n\n        <div className=\"sidebar-body\">\n          <div className=\"api-indicator\">\n            <div className=\"api-indicator-icon\">✓</div>\n            <span>API key already provided</span>\n          </div>\n          <a\n            href=\"https://example.com/blog\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"blog-link\"\n          >\n            Build Humphrey Style\n          </a>\n          <button className=\"clear-btn\" onClick={clearChatHistory}>\n            Clear Chat History\n          </button> \n        </div>\n      </div>\n\n      {/* Right Chat Panel */}\n      <div className=\"chat-panel\">\n        <div className=\"chat-messages\">\n          {conversation.map((entry, index) => (\n            <div key={index} className=\"chat-block\">\n              <div className=\"question-bubble\">\n                <strong></strong> {entry.question}\n              </div>\n              {!entry.selectedStyle && (\n                <div className=\"answers-group\">\n                  <div className=\"answer-bubble chatGpt-bubble\">\n                    \n\n                    <div>{entry.chatGptStyle}</div>\n                    {/* ←── 新增这行 */}\n                    <button onClick={() => alert('Citations!')}>\n                      See Citations\n                    </button>\n                  </div>\n                  {entry.humphreyStyle && (\n                    <div className=\"answer-bubble humphrey-bubble\">\n                      <span className=\"icon\">👔</span>\n                      <div>{entry.humphreyStyle}</div>\n                    </div>\n                  )}\n                  <div className=\"choose-buttons\">\n                    <button onClick={() => setFinalAnswer(index, 'chatGpt')}>\n                      Like ChatGPT Answer\n                    </button>\n                    {entry.humphreyStyle && (\n                      <button onClick={() => setFinalAnswer(index, 'humphrey')}>\n                        Like Humphrey Answer\n                      </button>\n                    )}\n                  </div>\n                </div>\n              )}\n              {entry.selectedStyle && (\n                <div className=\"final-answer\">\n                  <strong>\n                    Final Answer ({entry.selectedStyle === 'chatGpt' ? 'ChatGPT' : 'Humphrey'} Style):\n                  </strong>\n                  {renderFinalAnswer(entry)}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n        \n        {/* Chat Input Area */}\n        <div className=\"chat-input-wrapper\">\n            {/* 隐藏文件输入 */}\n            <input\n            id=\"chat-file-upload\"\n            type=\"file\"\n            accept=\"application/pdf\"\n            onChange={handlePdfUpload}\n            style={{ display: 'none' }}\n          />\n          {/* 左下角＋上传按钮 */}\n          <label\n            htmlFor=\"chat-file-upload\"\n            className=\"chat-upload-btn\"\n            data-tooltip=\"Upload files and more\"\n          >＋</label>\n\n          <textarea\n            ref={textareaRef}\n            className=\"chat-input\"\n            placeholder=\"How may I assist you today?\"\n            value={question}\n            onChange={handleQuestionChange}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                getResponse();\n              }\n            }}\n          />\n\n          <button className=\"send-icon-btn\" onClick={getResponse}>\n            <span className=\"send-icon\">&#x27A4;</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,QAAQ,GAAG;EACf,uBAAuB,EAAE;IACvBC,YAAY,EAAE,wDAAwD;IACtEC,aAAa,EAAE;EACjB,CAAC;EACD,0CAA0C,EAAE;IAC1CD,YAAY,EAAE,sUAAsU;IACpVC,aAAa,EAAE;EACjB,CAAC;EACD,yBAAyB,EAAE;IACzBD,YAAY,EAAE,uFAAuF;IACrGC,aAAa,EAAE;EACjB;AACF,CAAC;;AAGD;AACA,SAASC,iBAAiBA,CAACC,GAAG,EAAE;EAC9B,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;EACnB,IAAIC,KAAK,GAAGD,GAAG,CAACE,WAAW,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;EACpC,OAAOF,KAAK,CAACG,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAACD,IAAI,CAAC,CAAC;AAC9C;AAEA,SAASE,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAMqB,WAAW,GAAGpB,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACAC,SAAS,CAAC,MAAM;IACd,IAAImB,WAAW,CAACC,OAAO,EAAE;MACvBD,WAAW,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;MACzCH,WAAW,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,GAAGH,WAAW,CAACC,OAAO,CAACG,YAAY,IAAI;IAC5E;EACF,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd,MAAMS,YAAY,GAAGzB,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAM0B,oBAAoB,GAAIC,KAAK,IAAK;IACtCV,WAAW,CAACU,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMC,eAAe,GAAG,MAAOH,KAAK,IAAK;IACvC,MAAMI,IAAI,GAAGJ,KAAK,CAACC,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC;IAClC,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACE,IAAI,KAAK,iBAAiB,EAAE;MAC5CC,KAAK,CAAC,iCAAiC,CAAC;MACxC;IACF;IAEA,IAAI;MACF;MACAC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACtC,MAAMC,GAAG,GAAG,MAAMnC,KAAK,CAACoC,IAAI,CAAC,kDAAkD,EAAE;QAC/EC,QAAQ,EAAER,IAAI,CAACS;MACjB,CAAC,CAAC;MACFL,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEC,GAAG,CAACI,IAAI,CAAC;MAC3C,MAAMC,SAAS,GAAGL,GAAG,CAACI,IAAI,CAACE,GAAG;;MAE9B;MACA,MAAMzC,KAAK,CAAC0C,GAAG,CAACF,SAAS,EAAEX,IAAI,EAAE;QAC/Bc,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEFX,KAAK,CAAC,8BAA8B,CAAC;IAEvC,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtCZ,KAAK,CAAC,4CAA4C,CAAC;IACrD;EACF,CAAC;;EAED;EACA,MAAMa,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAAC/B,QAAQ,CAACJ,IAAI,CAAC,CAAC,EAAE;IAEtB,MAAMoC,UAAU,GAAGxC,iBAAiB,CAACQ,QAAQ,CAAC;IAC9C,IAAIiC,QAAQ,GAAG,IAAI;IACnBC,MAAM,CAACC,IAAI,CAAC9C,QAAQ,CAAC,CAAC+C,OAAO,CAAEC,CAAC,IAAK;MACnC,IAAI7C,iBAAiB,CAAC6C,CAAC,CAAC,KAAKL,UAAU,EAAE;QACvCC,QAAQ,GAAGI,CAAC;MACd;IACF,CAAC,CAAC;IAEF,IAAIC,QAAQ,GAAG,IAAI;IACnB,IAAIL,QAAQ,EAAE;MACZK,QAAQ,GAAG;QACTtC,QAAQ;QACRV,YAAY,EAAED,QAAQ,CAAC4C,QAAQ,CAAC,CAAC3C,YAAY;QAC7CC,aAAa,EAAEF,QAAQ,CAAC4C,QAAQ,CAAC,CAAC1C,aAAa;QAC/CgD,aAAa,EAAE;MACjB,CAAC;IACH,CAAC,MAAM;MACLD,QAAQ,GAAG;QACTtC,QAAQ;QACRV,YAAY,EAAE,iDAAiD;QAC/DC,aAAa,EAAE,EAAE;QACjBgD,aAAa,EAAE;MACjB,CAAC;IACH;IAEApC,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEoC,QAAQ,CAAC,CAAC;IAC5CrC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;EACnB,CAAC;EAED,MAAMuC,cAAc,GAAGA,CAACC,KAAK,EAAEnC,KAAK,KAAK;IACvC,MAAMoC,OAAO,GAAG,CAAC,GAAGxC,YAAY,CAAC;IACjCwC,OAAO,CAACD,KAAK,CAAC,CAACF,aAAa,GAAGjC,KAAK;IACpCH,eAAe,CAACuC,OAAO,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;IACnC,IAAIA,KAAK,CAACL,aAAa,KAAK,SAAS,EAAE;MACrC,oBACEnD,OAAA;QAAKyD,SAAS,EAAC,8BAA8B;QAAAC,QAAA,eAC3C1D,OAAA;UAAA0D,QAAA,EAAMF,KAAK,CAACtD;QAAY;UAAAyD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAE5B,CAAC;IAEV,CAAC,MAAM,IAAIN,KAAK,CAACL,aAAa,KAAK,UAAU,EAAE;MAC7C,oBACEnD,OAAA;QAAKyD,SAAS,EAAC,+BAA+B;QAAAC,QAAA,gBAC5C1D,OAAA;UAAMyD,SAAS,EAAC,MAAM;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAChC9D,OAAA;UAAA0D,QAAA,EAAMF,KAAK,CAACrD;QAAa;UAAAwD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7B,CAAC;IAEV;IACA,OAAO,IAAI;EACb,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7BhD,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;EAED,oBACEf,OAAA;IAAKyD,SAAS,EAAC,eAAe;IAAAC,QAAA,gBAE5B1D,OAAA;MAAKyD,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACpB1D,OAAA;QAAKyD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBACnC1D,OAAA;UAAKyD,SAAS,EAAC,oBAAoB;UAAAC,QAAA,eACjC1D,OAAA;YACEgE,GAAG,EAAC,0BAA0B;YAC9BC,GAAG,EAAC,iBAAiB;YACrBR,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACN9D,OAAA;UAAIyD,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,eAEJ9D,OAAA;QAAKyD,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1D,OAAA;UAAKyD,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1D,OAAA;YAAKyD,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC3C9D,OAAA;YAAA0D,QAAA,EAAM;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,eACN9D,OAAA;UACEkE,IAAI,EAAC,0BAA0B;UAC/B1C,MAAM,EAAC,QAAQ;UACf2C,GAAG,EAAC,YAAY;UAChBV,SAAS,EAAC,WAAW;UAAAC,QAAA,EACtB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ9D,OAAA;UAAQyD,SAAS,EAAC,WAAW;UAACW,OAAO,EAAEL,gBAAiB;UAAAL,QAAA,EAAC;QAEzD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN9D,OAAA;MAAKyD,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzB1D,OAAA;QAAKyD,SAAS,EAAC,eAAe;QAAAC,QAAA,EAC3B5C,YAAY,CAACuD,GAAG,CAAC,CAACb,KAAK,EAAEH,KAAK,kBAC7BrD,OAAA;UAAiByD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACrC1D,OAAA;YAAKyD,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9B1D,OAAA;cAAA2D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAgB,CAAC,KAAC,EAACN,KAAK,CAAC5C,QAAQ;UAAA;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC,EACL,CAACN,KAAK,CAACL,aAAa,iBACnBnD,OAAA;YAAKyD,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1D,OAAA;cAAKyD,SAAS,EAAC,8BAA8B;cAAAC,QAAA,gBAG3C1D,OAAA;gBAAA0D,QAAA,EAAMF,KAAK,CAACtD;cAAY;gBAAAyD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAE/B9D,OAAA;gBAAQoE,OAAO,EAAEA,CAAA,KAAMtC,KAAK,CAAC,YAAY,CAAE;gBAAA4B,QAAA,EAAC;cAE5C;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,EACLN,KAAK,CAACrD,aAAa,iBAClBH,OAAA;cAAKyD,SAAS,EAAC,+BAA+B;cAAAC,QAAA,gBAC5C1D,OAAA;gBAAMyD,SAAS,EAAC,MAAM;gBAAAC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAChC9D,OAAA;gBAAA0D,QAAA,EAAMF,KAAK,CAACrD;cAAa;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CACN,eACD9D,OAAA;cAAKyD,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7B1D,OAAA;gBAAQoE,OAAO,EAAEA,CAAA,KAAMhB,cAAc,CAACC,KAAK,EAAE,SAAS,CAAE;gBAAAK,QAAA,EAAC;cAEzD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EACRN,KAAK,CAACrD,aAAa,iBAClBH,OAAA;gBAAQoE,OAAO,EAAEA,CAAA,KAAMhB,cAAc,CAACC,KAAK,EAAE,UAAU,CAAE;gBAAAK,QAAA,EAAC;cAE1D;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CACT;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,EACAN,KAAK,CAACL,aAAa,iBAClBnD,OAAA;YAAKyD,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B1D,OAAA;cAAA0D,QAAA,GAAQ,gBACQ,EAACF,KAAK,CAACL,aAAa,KAAK,SAAS,GAAG,SAAS,GAAG,UAAU,EAAC,UAC5E;YAAA;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACRP,iBAAiB,CAACC,KAAK,CAAC;UAAA;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CACN;QAAA,GAxCOT,KAAK;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAyCV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN9D,OAAA;QAAKyD,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBAE/B1D,OAAA;UACAsE,EAAE,EAAC,kBAAkB;UACrBzC,IAAI,EAAC,MAAM;UACX0C,MAAM,EAAC,iBAAiB;UACxBC,QAAQ,EAAE9C,eAAgB;UAC1BR,KAAK,EAAE;YAAEuD,OAAO,EAAE;UAAO;QAAE;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,eAEF9D,OAAA;UACE0E,OAAO,EAAC,kBAAkB;UAC1BjB,SAAS,EAAC,iBAAiB;UAC3B,gBAAa,uBAAuB;UAAAC,QAAA,EACrC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAEV9D,OAAA;UACE2E,GAAG,EAAE3D,WAAY;UACjByC,SAAS,EAAC,YAAY;UACtBmB,WAAW,EAAC,6BAA6B;UACzCnD,KAAK,EAAEb,QAAS;UAChB4D,QAAQ,EAAElD,oBAAqB;UAC/BuD,SAAS,EAAGC,CAAC,IAAK;YAChB,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;cACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;cAClBtC,WAAW,CAAC,CAAC;YACf;UACF;QAAE;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEF9D,OAAA;UAAQyD,SAAS,EAAC,eAAe;UAACW,OAAO,EAAEzB,WAAY;UAAAe,QAAA,eACrD1D,OAAA;YAAMyD,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACnD,EAAA,CA1OQD,GAAG;AAAAwE,EAAA,GAAHxE,GAAG;AA8OZ,eAAeA,GAAG;AAAC,IAAAwE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}